# <center>10 对象

## 10.1 对象概述


- 什么是对象？
  - 在 JavaScript 中，对象是一组无序的相关属性和方法的集合，所有的事物都是对象，例如字符串、数值、数组、函数等，对象是由属性和方法组成的
  - 属性：事物的特征，在对象中用属性来表示（常用名词）
  - 方法：事物的行为，在对象中用方法来表示（常用动词）


- 为什么需要对象？
  - 存一个值时，可以使用变量，保存多个值（一组值）时，可以使用数组。如果要保存一个人的完整信息呢？例如，将“张三疯”的个人的信息保存在数组中的方式为：
    ~~~js
    var arr = ['张三疯', '男', 128,154];
    ~~~
  - JS 中的对象表达结构更清晰，更强大。张三疯的个人信息在对象中的表达结构如下：
    ~~~js
    person.name = '张三疯';
    person.sex = '男';
    person.age = 128;
    person.height = 154;
    ~~~


## 10.2 创建对象的三种方式

&emsp;&emsp;在 JavaScript 中，现阶段我们可以采用三种方式创建对象（object）：利用字面量创建对象、利用 new Object 创建对象和利用构造函数创建对象


### 10.2.1 字面量创建对象

- 对象字面量：就是花括号 { } 里面包含了表达这个具体事物（对象）的属性和方法，{ } 里面采取键值对的形式表示
  - 键：相当于属性名
  - 值：相当于属性值，可以是任意类型的值（数字类型、字符串类型、布尔类型，函数类型等）
    ~~~js
    var star = {
        name : 'pink',
        age : 18,
        sex : '男',
        sayHi : function(){
            alert('大家好啊~');
            }
    };
    ~~~


- 对象的调用
  - 对象里面的属性调用 : 对象 `.` 属性名 `.` 这个小点 . 就理解为 “ 的 ”
  - 对象里面属性的另一种调用方式 : `对象['属性名']`，注意方括号里面的属性必须加引号，我们后面会用
  - 对象里面的方法调用：`对象.方法名()` ，注意这个方法名字后面一定加括号
    ~~~js
    console.log(star.name) // 调用名字属性
    console.log(star['name']) // 调用名字属性
    star.sayHi(); // 调用 sayHi 方法,注意，一定不要忘记带后面的括号
    ~~~


### 10.2.2 new Object创建对象


- 跟我们前面学的 new Array() 原理一致
    ~~~js
    var andy = new Obect();
        andy.name = 'pink';
        andy.age = 18;
        andy.sex = '男';
        andy.sayHi = function(){
        alert('大家好啊~');
    }
    ~~~
  - Object() ：第一个字母大写
  - new Object() ：需要 new 关键字
  - 使用的格式：对象.属性 = 值;


### 10.2.3 构造函数创建对象

- 构造函数 ：是一种特殊的函数，主要用来初始化对象，即为对象成员变量赋初始值，它总与 new 运算符一起使用。我们可以把对象中一些公共的属性和方法抽取出来，然后封装到这个函数里面


- 在 js 中，使用构造函数要时要注意以下两点：
  - 构造函数用于创建某一类对象，其首字母要大写
  - 构造函数要和 new 一起使用才有意义
    ~~~js
    function Person(name, age, sex) {
        this.name = name;
        this.age = age;
        this.sex = sex;
        this.sayHi = function() {
        alert('我的名字叫：' + this.name + '，年龄：' + this.age + '，性别：' + this.sex);
        }
    }
    var bigbai = new Person('大白', 100, '男');
    var smallbai = new Person('小白', 21, '男');
    console.log(bigbai.name);
    console.log(smallbai.name);
    ~~~


- 注意:
  - 构造函数约定首字母大写
  - 函数内的属性和方法前面需要添加 this ，表示当前对象的属性和方法
  - 构造函数中不需要 return 返回结果
  - 当我们创建对象的时候，必须用 new 来调用构造函数


- 构造函数，如 Stars()，抽象了对象的公共部分，封装到了函数里面，它泛指某一大类（class）
- 创建对象，如 new Stars()，特指某一个，通过 new 关键字创建对象的过程我们也称为对象实例化


## 10.3 new关键字


- new 在执行时会做四件事情：
  - 在内存中创建一个新的空对象
  - 让 this 指向这个新的对象
  - 执行构造函数里面的代码，给这个新对象添加属性和方法
  - 返回这个新对象（所以构造函数里面不需要return）

## 10.4 遍历对象属性

- for...in 语句用于对数组或者对象的属性进行循环操作，其语法如下：
    ~~~js
    for (变量 in 对象名字) {
    // 在此执行代码
    }
    ~~~
- 语法中的变量是自定义的，它需要符合命名规范，通常我们会将这个变量写为 k 或者 key
    ~~~js
    for (var k in obj) {
        console.log(k); // 这里的 k 是属性名
        console.log(obj[k]); // 这里的 obj[k] 是属性值
    }
    ~~~